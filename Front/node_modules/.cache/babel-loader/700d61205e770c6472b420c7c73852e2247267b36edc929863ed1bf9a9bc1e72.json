{"ast":null,"code":"import _slicedToArray from\"/Users/sebastien/Sebbe's Cloud/Dev/Projects/Privates/2_guepes-et-frelons/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-undef */import React,{useCallback,useEffect,useState}from'react';import useFetchJson from'@Hooks/useFetchJson';import'./ContactForm.css';/**\n * @param {any} arg\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ContactForm(_ref){var arg=_ref.arg;var formPath=process.env.REACT_APP_API_URL;var formPathOption=arg;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),checkBoxDisabled=_useState2[0],setCheckBoxDisabled=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),submitButtonDisabled=_useState4[0],setSubmitButtonDisabled=_useState4[1];var _useFetchJson=useFetchJson(formPath,formPathOption),_useFetchJson2=_slicedToArray(_useFetchJson,4),data=_useFetchJson2[0],isError=_useFetchJson2[1],loading=_useFetchJson2[2],errorMessage=_useFetchJson2[3];// We use a callback function to avoid infinite loop\nvar listeningInputs=useCallback(function(){var inputs=[];inputs.push(document.querySelector('input[name=\"name\"]'));inputs.push(document.querySelector('input[name=\"firstname\"]'));inputs.push(document.querySelector('input[name=\"email\"]'));inputs.push(document.querySelector('input[name=\"phone\"]'));inputs.push(document.querySelector('textarea[name=\"message\"]'));// @ts-ignore\nvar formIsFilled=inputs.every(function(input){return input.value!=='';});// @ts-ignore\nvar checkBoxChecked=document.querySelector('input[name=\"rgpd1\"]').checked;var checkForm=function checkForm(form,checkbox){console.log('checkbox',checkbox);if(form){setCheckBoxDisabled(false);if(checkbox===true){setSubmitButtonDisabled(false);}}else{setCheckBoxDisabled(true);setSubmitButtonDisabled(true);}};checkForm(formIsFilled,checkBoxChecked);},[]);useEffect(function(){return function(){};},[data,isError,loading,errorMessage]);return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):isError?/*#__PURE__*/_jsx(\"p\",{children:errorMessage}):/*#__PURE__*/_jsxs(\"form\",{action:\"php/mail.php\",method:\"POST\",children:[data.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"form__group\",children:item.type==='textarea'?/*#__PURE__*/_jsx(\"textarea\",{name:item.name,id:item.id,placeholder:item.placeholder,cols:item.cols,rows:item.rows,required:item.required,onChange:listeningInputs}):/*#__PURE__*/_jsx(\"input\",{type:item.type,name:item.name,id:item.id,placeholder:item.placeholder,required:item.required,onChange:listeningInputs})},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap__rgpd\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"customCheckbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:\" J\\u2019accepte que les donn\\xE9es saisies dans le formulaire soient utilis\\xE9es pour me recontacter dans le cadre de ma demande\",id:\"rgpd1\",name:\"rgpd1\",required:true,onChange:listeningInputs,disabled:checkBoxDisabled}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rgpd1\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"En cochant cette case, j\\u2019accepte que les donn\\xE9es saisies dans le formulaire ci-dessus soient utilis\\xE9es par www.anti-nuisible87.fr pour me recontacter dans le cadre de ma demande. Les destinataires sont www.anti-nuisible87.fr et seulement ce dernier. Pour plus d'informations sur le traitement de vos donn\\xE9es et l'exercice de vos droits, reportez-vous \\xE0 notre\",' ',/*#__PURE__*/_jsx(\"a\",{className:\"legals__link\",href:\"/mentions-legales\",children:\"politique de confidentialit\\xE9\"}),\".\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form__group button\",children:/*#__PURE__*/_jsx(\"input\",{className:\"submit__button\",type:\"submit\",value:\"Envoyer le formulaire\",disabled:submitButtonDisabled})})]})});}// arg prop is required and must be a string\nexport default ContactForm;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useFetchJson","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ContactForm","_ref","arg","formPath","process","env","REACT_APP_API_URL","formPathOption","_useState","_useState2","_slicedToArray","checkBoxDisabled","setCheckBoxDisabled","_useState3","_useState4","submitButtonDisabled","setSubmitButtonDisabled","_useFetchJson","_useFetchJson2","data","isError","loading","errorMessage","listeningInputs","inputs","push","document","querySelector","formIsFilled","every","input","value","checkBoxChecked","checked","checkForm","form","checkbox","console","log","children","action","method","map","item","index","className","type","name","id","placeholder","cols","rows","required","onChange","disabled","htmlFor","href"],"sources":["/Users/sebastien/Sebbe's Cloud/Dev/Projects/Privates/2_guepes-et-frelons/src/components/forms/contact_form/ContactForm.jsx"],"sourcesContent":["/* eslint-disable no-undef */\nimport React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport useFetchJson from '@Hooks/useFetchJson';\n\nimport './ContactForm.css';\n\n/**\n * @param {any} arg\n */\nfunction ContactForm({ arg }) {\n\tconst formPath = process.env.REACT_APP_API_URL;\n\tconst formPathOption = arg;\n\tconst [checkBoxDisabled, setCheckBoxDisabled] = useState(true);\n\tconst [submitButtonDisabled, setSubmitButtonDisabled] = useState(true);\n\n\tconst [data, isError, loading, errorMessage] = useFetchJson(formPath, formPathOption);\n\n\t// We use a callback function to avoid infinite loop\n\tconst listeningInputs = useCallback(() => {\n\t\tconst inputs = [];\n\t\tinputs.push(document.querySelector('input[name=\"name\"]'));\n\t\tinputs.push(document.querySelector('input[name=\"firstname\"]'));\n\t\tinputs.push(document.querySelector('input[name=\"email\"]'));\n\t\tinputs.push(document.querySelector('input[name=\"phone\"]'));\n\t\tinputs.push(document.querySelector('textarea[name=\"message\"]'));\n\n\t\t// @ts-ignore\n\t\tconst formIsFilled = inputs.every((input) => input.value !== '');\n\n\t\t// @ts-ignore\n\t\tconst checkBoxChecked = document.querySelector('input[name=\"rgpd1\"]').checked;\n\n\t\tconst checkForm = (form, checkbox) => {\n\t\t\tconsole.log('checkbox', checkbox);\n\t\t\tif (form) {\n\t\t\t\tsetCheckBoxDisabled(false);\n\t\t\t\tif (checkbox === true) {\n\t\t\t\t\tsetSubmitButtonDisabled(false);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetCheckBoxDisabled(true);\n\t\t\t\tsetSubmitButtonDisabled(true);\n\t\t\t}\n\t\t};\n\n\t\tcheckForm(formIsFilled, checkBoxChecked);\n\t}, []);\n\n\tuseEffect(() => {\n\t\treturn () => {};\n\t}, [data, isError, loading, errorMessage]);\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<p>Loading...</p>\n\t\t\t) : isError ? (\n\t\t\t\t<p>{errorMessage}</p>\n\t\t\t) : (\n\t\t\t\t<form action='php/mail.php' method='POST'>\n\t\t\t\t\t{data.map((item, index) => (\n\t\t\t\t\t\t<div className='form__group' key={index}>\n\t\t\t\t\t\t\t{item.type === 'textarea' ? (\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\t\t\tplaceholder={item.placeholder}\n\t\t\t\t\t\t\t\t\tcols={item.cols}\n\t\t\t\t\t\t\t\t\trows={item.rows}\n\t\t\t\t\t\t\t\t\trequired={item.required}\n\t\t\t\t\t\t\t\t\tonChange={listeningInputs}\n\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype={item.type}\n\t\t\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\t\t\tplaceholder={item.placeholder}\n\t\t\t\t\t\t\t\t\trequired={item.required}\n\t\t\t\t\t\t\t\t\tonChange={listeningInputs}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t\t<div className='wrap__rgpd'>\n\t\t\t\t\t\t<div className='customCheckbox'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\tvalue='\n\t\t\t\t\t\t\t\tJ’accepte que les données saisies dans le formulaire soient utilisées pour me recontacter dans le cadre de ma demande'\n\t\t\t\t\t\t\t\tid='rgpd1'\n\t\t\t\t\t\t\t\tname='rgpd1'\n\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\tonChange={listeningInputs}\n\t\t\t\t\t\t\t\tdisabled={checkBoxDisabled}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label htmlFor='rgpd1'></label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tEn cochant cette case, j’accepte que les données saisies dans le formulaire ci-dessus soient\n\t\t\t\t\t\t\tutilisées par www.anti-nuisible87.fr pour me recontacter dans le cadre de ma demande. Les\n\t\t\t\t\t\t\tdestinataires sont www.anti-nuisible87.fr et seulement ce dernier. Pour plus d'informations\n\t\t\t\t\t\t\tsur le traitement de vos données et l'exercice de vos droits, reportez-vous à notre{' '}\n\t\t\t\t\t\t\t<a className='legals__link' href='/mentions-legales'>\n\t\t\t\t\t\t\t\tpolitique de confidentialité\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='form__group button'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='submit__button'\n\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\tvalue='Envoyer le formulaire'\n\t\t\t\t\t\t\tdisabled={submitButtonDisabled}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\n// arg prop is required and must be a string\nContactForm.propTypes = {\n\targ: PropTypes.string.isRequired,\n};\n\nexport default ContactForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}